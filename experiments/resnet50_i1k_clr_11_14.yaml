# mctl yaml
image: mosaicml/research:latest
parameters:
  instance_types:
  - cota-g8-3090
  seed:
  - 5
  workers_per_gpu:
  - 8

  callbacks: # List of: profiler, speed_monitor, lr_monitor, classifier_metrics
    - speed_monitor lr_monitor

command: >-
  git clone git@github.com:jacobfulano/composer

  cd composer

  git checkout clr_warmup

  pip install -e .
  pip install wandb
  pip install --upgrade yahp
  
  python examples/run_mosaic_trainer.py -f composer/yamls/models/resnet50_jp_v1.yaml --loggers wandb --loggers.wandb.project jacob_i1k --loggers.wandb.name test_run --callbacks.speed_monitor.window_size 10 --train_dataset.imagenet.datadir /localdisk/ImageNet --val_dataset.imagenet.datadir /localdisk/ImageNet
